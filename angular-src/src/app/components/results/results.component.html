<h1>Search Results</h1>
<mat-paginator [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" showFirstLastButtons></mat-paginator>
<table class="mat-elevation-z8 results-table" mat-table [dataSource]="storedResults"  matSort>
    <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Title</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.title }}
          <button mat-raised-button (click)="showMovieModal(movie)">See Movie Info</button>
        </td>
    </ng-container>
    <ng-container matColumnDef="tagline">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Tagline</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.tagline }}</td>
    </ng-container>
    <ng-container matColumnDef="release_date">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Release Date</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.release_date | date }}</td>
    </ng-container>
    <ng-container matColumnDef="original_title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Original Title</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.original_title }}</td>
    </ng-container>
    <ng-container matColumnDef="budget">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Budget</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.budget | currency:'USD' }}</td>
    </ng-container>
    <ng-container matColumnDef="revenue">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Revenue</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.revenue | currency:'USD' }}</td>
    </ng-container>
    <ng-container matColumnDef="runtime">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Run Time</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.runtime }}</td>
    </ng-container>
    <ng-container matColumnDef="overview">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Overview</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.overview }}</td>
    </ng-container>
    <ng-container matColumnDef="popularity">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Popularity</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.popularity }}</td>
    </ng-container>
    <ng-container matColumnDef="adult">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Adult?</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.adult && 'Yes' || 'No' }}</td>
    </ng-container>
    <ng-container matColumnDef="vote_average">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Vote Average</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.vote_average }}</td>
    </ng-container>
    <ng-container matColumnDef="vote_count">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Vote Count</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.vote_count}}</td>
    </ng-container>
    <ng-container matColumnDef="movie_id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Movie ID</th>
        <td mat-cell *matCellDef="let movie">{{ movie?.movie_id }}</td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
    <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
</table>

<!-- <pre *ngIf="storedResults">
    {{ storedResults | json }}
</pre> -->
